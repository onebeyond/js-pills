{"componentChunkName":"component---src-templates-pill-template-js","path":"/pill/dedupe","result":{"data":{"markdownRemark":{"html":"<h1>Dedupe arrays ['ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡ªğŸ‡¸', 'ğŸ‡ªğŸ‡¸', 'ğŸ‡®ğŸ‡¨', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ', 'ğŸ‡®ğŸ‡¨', 'ğŸ‡®ğŸ‡¨', 'ğŸ‡®ğŸ‡¨', 'ğŸ‡ªğŸ‡º']</h1>\n<p>We're presenting 3 ways to dedupe an array in Javascript.</p>\n<p>Credits to Samantha Ming: <a href=\"https://www.samanthaming.com/tidbits/43-3-ways-to-remove-array-duplicates/\">https://www.samanthaming.com/tidbits/43-3-ways-to-remove-array-duplicates/</a></p>\n<h2>Original array</h2>\n<p>Let's have a look at this array:</p>\n<pre><code class=\"language-javascript\">const originalArray = ['ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡ªğŸ‡¸', 'ğŸ‡ªğŸ‡¸', 'ğŸ‡®ğŸ‡¨', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ', 'ğŸ‡®ğŸ‡¨', 'ğŸ‡®ğŸ‡¨', 'ğŸ‡®ğŸ‡¨', 'ğŸ‡ªğŸ‡º'];\n</code></pre>\n<p>As you can observe, this array contains a lot of flags. Several appear more than once. Some of them too many times. ;)</p>\n<p>How can we remove all the duplicates from that array and get a new one with every flag but only once in it?</p>\n<h3>Mutation</h3>\n<p>Let's have in mind that the methods we're showing here does not mutate the original array.</p>\n<h2>1. Reduce</h2>\n<p>We can use reduce to dedupe the array:</p>\n<pre><code class=\"language-javascript\">const reduceMethod = array => array.reduce((acc, flag) => acc.includes(flag) ? acc : [...acc, flag], []);\n</code></pre>\n<p>With this method, we start with an empty array.</p>\n<pre><code class=\"language-javascript\">// look at the ---> [] &#x3C;--- at the end\n</code></pre>\n<p>Then, the reduce is going to apply a function to every element in the array. That function is</p>\n<pre><code class=\"language-javascript\">acc.includes(flag) ? acc : [...acc, flag]\n</code></pre>\n<p>So, for every flag in the array, this function is goin to check if that flag is already in the accumulated array (we started from an empty array, remember). If the flag is already in that array, it just return the accumulated array. If the flag is not in the array, then we append the flag to the accumulated array and return it, which will become the new accumulated array.</p>\n<p>Here you have a code that will show the steps:</p>\n<pre><code class=\"language-javascript\">const steps = [];\nconst explainedReducer = originalArray.reduce((acc, flag) => {\n  const step = {};\n  step.item = flag;\n  step.accumulatorBeforeReducerFunction = acc;\n  step.pushToAccumulator = !acc.includes(flag) ? 'YES' : 'NO';\n  step.accumulatorAfterReducerFunction = acc.includes(flag) ? acc : [...acc, flag];\n  steps.push(step);\n  // console.log(step);\n  return acc.includes(flag) ? acc : [...acc, flag];\n}, []);\nconsole.log(explainedReducer)\n// [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' ]\nconsole.table(steps)\n</code></pre>\n<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ (index) â”‚  item  â”‚      accumulatorBeforeReducerFunction      â”‚ pushToAccumulator â”‚      accumulatorAfterReducerFunction       â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚    0    â”‚ 'ğŸ‡ªğŸ‡¸'   â”‚                     []                     â”‚       'YES'       â”‚                 [ 'ğŸ‡ªğŸ‡¸' ]                 â”‚\nâ”‚    1    â”‚ 'ğŸ'   â”‚                 [ 'ğŸ‡ªğŸ‡¸' ]                    â”‚       'YES'       â”‚              [ 'ğŸ‡ªğŸ‡¸', 'ğŸ' ]              â”‚\nâ”‚    2    â”‚ 'ğŸ‡ªğŸ‡º'   â”‚              [ 'ğŸ‡ªğŸ‡¸', 'ğŸ' ]                 â”‚       'YES'       â”‚          [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º' ]          â”‚\nâ”‚    3    â”‚ 'ğŸ‡ªğŸ‡¸'   â”‚          [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º' ]               â”‚       'NO'        â”‚          [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º' ]          â”‚\nâ”‚    4    â”‚ 'ğŸ‡ªğŸ‡¸'   â”‚          [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º' ]               â”‚       'NO'        â”‚          [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º' ]          â”‚\nâ”‚    5    â”‚ 'ğŸ‡®ğŸ‡¨'   â”‚          [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º' ]               â”‚       'YES'       â”‚       [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨' ],  â”‚\nâ”‚    6    â”‚ 'ğŸ‡®ğŸ‡¨'   â”‚       [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨' ],           â”‚       'NO'        â”‚       [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨' ],  â”‚\nâ”‚    7    â”‚ 'ğŸ³ï¸â€ğŸŒˆ'   â”‚       [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨' ],         â”‚       'YES'       â”‚     [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' ] â”‚\nâ”‚    8    â”‚ 'ğŸ‡®ğŸ‡¨'   â”‚     [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' ]      â”‚       'NO'        â”‚     [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' ] â”‚\nâ”‚    9    â”‚ 'ğŸ‡®ğŸ‡¨'   â”‚     [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' ]      â”‚       'NO'        â”‚     [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' ] â”‚\nâ”‚   10    â”‚ 'ğŸ‡®ğŸ‡¨'   â”‚     [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' ]      â”‚       'NO'        â”‚     [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' ] â”‚\nâ”‚   11    â”‚ 'ğŸ‡ªğŸ‡º'   â”‚     [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' ]      â”‚       'NO'        â”‚     [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' ] â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</code></pre>\n<p>You can run that explained code from the source in this repository running:</p>\n<pre><code class=\"language-bash\">node ./explained.js\n</code></pre>\n<p>This way, only when a flag is not in the to-be-the-solution-array, it is appended to it.</p>\n<h2>2. Filter</h2>\n<p>The second method we're going to present is filter.</p>\n<pre><code class=\"language-javascript\">const filterMethod = array => array.filter((flag, index) => array.indexOf(flag) === index);\n</code></pre>\n<p>This method uses <code>filter</code> over the array that is passed. For each element in the array, it executes a function with two params, the element (<code>flag</code>) and the index of that element in the array.</p>\n<p>Then, for each element, it gets the index of the first ocurrence of the flag in the array and compares it with the current index.</p>\n<p>So, this way, when the current index is not the same than the one for the first occurrence of the flag, that occurrence is discarded and not added in the solution array. Only when the current index is the same than the index of the first occurrence of a flag, that flag will be part of the solution.</p>\n<pre><code class=\"language-javascript\">const explainFilter = () => {\n  const steps = [];\n  const explainedFilter = originalArray.filter((flag, index) => {\n    const step = {};\n    step.item = flag;\n    step.index = index;\n    step.indexOf = originalArray.indexOf(flag);\n    step.condition = originalArray.indexOf(flag) === index;\n    step.operation = originalArray.indexOf(flag) === index ? 'MAINTAIN' : 'DISCARD';\n    steps.push(step);\n    //console.log(step)\n    return originalArray.indexOf(flag) === index;\n  });\n  console.log(explainedFilter);\n  console.table(steps);\n};\n\nexplainFilter();\n</code></pre>\n<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ (index) â”‚  item  â”‚ index â”‚ indexOf â”‚ condition â”‚ operation  â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚    0    â”‚ 'ğŸ‡ªğŸ‡¸' â”‚   0   â”‚    0    â”‚   true    â”‚ 'MAINTAIN' â”‚\nâ”‚    1    â”‚  'ğŸ'  â”‚   1   â”‚    1    â”‚   true    â”‚ 'MAINTAIN' â”‚\nâ”‚    2    â”‚ 'ğŸ‡ªğŸ‡º' â”‚   2   â”‚    2    â”‚   true    â”‚ 'MAINTAIN' â”‚\nâ”‚    3    â”‚ 'ğŸ‡ªğŸ‡¸' â”‚   3   â”‚    0    â”‚   false   â”‚ 'DISCARD'  â”‚\nâ”‚    4    â”‚ 'ğŸ‡ªğŸ‡¸' â”‚   4   â”‚    0    â”‚   false   â”‚ 'DISCARD'  â”‚\nâ”‚    5    â”‚ 'ğŸ‡®ğŸ‡¨' â”‚   5   â”‚    5    â”‚   true    â”‚ 'MAINTAIN' â”‚\nâ”‚    6    â”‚ 'ğŸ‡®ğŸ‡¨' â”‚   6   â”‚    5    â”‚   false   â”‚ 'DISCARD'  â”‚\nâ”‚    7    â”‚ 'ğŸ³ï¸â€ğŸŒˆ'  â”‚   7   â”‚    7    â”‚   true    â”‚ 'MAINTAIN' â”‚\nâ”‚    8    â”‚ 'ğŸ‡®ğŸ‡¨' â”‚   8   â”‚    5    â”‚   false   â”‚ 'DISCARD'  â”‚\nâ”‚    9    â”‚ 'ğŸ‡®ğŸ‡¨' â”‚   9   â”‚    5    â”‚   false   â”‚ 'DISCARD'  â”‚\nâ”‚   10    â”‚ 'ğŸ‡®ğŸ‡¨' â”‚  10   â”‚    5    â”‚   false   â”‚ 'DISCARD'  â”‚\nâ”‚   11    â”‚ 'ğŸ‡ªğŸ‡º' â”‚  11   â”‚    2    â”‚   false   â”‚ 'DISCARD'  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</code></pre>\n<p>You can run that explained code from the source in this repository running:</p>\n<pre><code class=\"language-bash\">node ./explained.js\n</code></pre>\n<h2>3. Set</h2>\n<p>The third method to be shown uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\">Set</a>.</p>\n<p>This method creates a new Set with the elements of the array. A Set stores only unique values, so it will dedupe the incoming ones.</p>\n<pre><code class=\"language-javascript\">const uniqueSet = new Set(originalArray);\n// Set { 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' }\n</code></pre>\n<p>Now that we have a Set of unique values, to transform it into an array, we can use the spread operator.</p>\n<pre><code class=\"language-javascript\">const set2Array = [...uniqueSet]\n// [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' ]\n</code></pre>\n<p>And ğŸ‰ğŸ‰ğŸ‰, our deduped array:</p>\n<pre><code class=\"language-javascript\">const setMethod = array => [...new Set(array)];\n\nsetMethod(originalArray)\n// [ 'ğŸ‡ªğŸ‡¸', 'ğŸ', 'ğŸ‡ªğŸ‡º', 'ğŸ‡®ğŸ‡¨', 'ğŸ³ï¸â€ğŸŒˆ' ]\n</code></pre>\n<h2>Benchmark</h2>\n<p>After reading <a href=\"https://blog.usejournal.com/performance-of-javascript-array-ops-2690aed47a50\">Miguel Albrecht</a> created a benchmark against the code by Samantha, I decided to create mine.</p>\n<p>It's a very silly and simple benchmark, but it gives you the possibility of playing with the values and will give you the idea of what of the 3 ways is better to use.</p>\n<p>In the benchmark, there are 3 configurable variables:</p>\n<ul>\n<li><em>ITERATIONS</em>: the number of times the methods are going to be run</li>\n<li><em>ARRAY_LENGTH</em>: the size of the array that is going to be deduped</li>\n<li><em>RANDOM_RANGE</em>: the range of numbers that are going to be randomly picked to fill the array. i.e. 5000 means we're going to pick a random number between 0-5000 for every position of the array to be filled. The higher, the more chances to have less duplicate values.</li>\n</ul>\n<p>Some results of this benchmark (run in my MacBook Pro laptop)*:</p>\n<ul>\n<li>(index): the method run</li>\n<li>Values: the mean of all iterations run (in ms)</li>\n</ul>\n<pre><code>const ITERATIONS = 10;\nconst ARRAY_LENGTH = 100000;\nconst RANDOM_RANGE = 5000;\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                       (index)                                       â”‚ Values â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ array => array.reduce((acc, flag) => acc.includes(flag) ? acc : [...acc, flag], []) â”‚ 267.2  â”‚\nâ”‚        array => array.filter((flag, index) => array.indexOf(flag) === index)        â”‚ 475.9  â”‚\nâ”‚                            array => [...new Set(array)]                             â”‚   3    â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜\nBenchmark total run time: 7511 ms\n</code></pre>\n<pre><code>const ITERATIONS = 10;\nconst ARRAY_LENGTH = 500000;\nconst RANDOM_RANGE = 9000;\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                       (index)                                       â”‚ Values â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ array => array.reduce((acc, flag) => acc.includes(flag) ? acc : [...acc, flag], []) â”‚  1945  â”‚\nâ”‚        array => array.filter((flag, index) => array.indexOf(flag) === index)        â”‚ 3479.7 â”‚\nâ”‚                            array => [...new Set(array)]                             â”‚  14.4  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜\nBenchmark total run time: 54817 ms\n</code></pre>\n<pre><code>const ITERATIONS = 10;\nconst ARRAY_LENGTH = 1000000;\nconst RANDOM_RANGE = 100000;\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                       (index)                                       â”‚ Values  â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ array => array.reduce((acc, flag) => acc.includes(flag) ? acc : [...acc, flag], []) â”‚ 44740.6 â”‚\nâ”‚        array => array.filter((flag, index) => array.indexOf(flag) === index)        â”‚ 63489.5 â”‚\nâ”‚                            array => [...new Set(array)]                             â”‚  36.6   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\nBenchmark total run time: 1083454 ms\n</code></pre>\n<p>You can run the benchmark yourself using yout terminal:</p>\n<pre><code class=\"language-bash\">node ./benchmark.js\n</code></pre>\n<p>* Don't rely on these values as it is not a very reliable benchmark nor its results are too. But it shows a pattern...</p>\n<h2>So, what do I use</h2>\n<p>From the simpleness and according to my own (very simple) benchmark, I would use the Set method anytime I can.</p>\n<h2>Browser compatibility ğŸ”Œ</h2>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>âš ï¸</th>\n<th>âœ…</th>\n<th>âœ…</th>\n<th>âœ…</th>\n<th>âœ…</th>\n<th>âœ…</th>\n<th>âœ…</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ğŸ’»</td>\n<td>IE</td>\n<td>Edge</td>\n<td>Firefox</td>\n<td>Chrome</td>\n<td>Safari</td>\n<td>Opera</td>\n<td>Node.js</td>\n</tr>\n<tr>\n<td><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\">reduce</a></td>\n<td>9</td>\n<td>12</td>\n<td>3</td>\n<td>3</td>\n<td>5</td>\n<td>10.5</td>\n<td>0.1.100</td>\n</tr>\n<tr>\n<td><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\">filter</a></td>\n<td>9</td>\n<td>12</td>\n<td>1.5</td>\n<td>1</td>\n<td>3</td>\n<td>9.5</td>\n<td>0.1.100</td>\n</tr>\n<tr>\n<td><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\">includes</a></td>\n<td>-</td>\n<td>14</td>\n<td>43</td>\n<td>47</td>\n<td>9</td>\n<td>34</td>\n<td>6.0.0</td>\n</tr>\n<tr>\n<td><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf\">indexOf</a></td>\n<td>9</td>\n<td>12</td>\n<td>1.5</td>\n<td>1</td>\n<td>3</td>\n<td>9.5</td>\n<td>0.1.100</td>\n</tr>\n<tr>\n<td><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\">set</a></td>\n<td>11</td>\n<td>12</td>\n<td>13</td>\n<td>38</td>\n<td>8</td>\n<td>25</td>\n<td>0.12</td>\n</tr>\n<tr>\n<td><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\">...</a></td>\n<td>-</td>\n<td>12</td>\n<td>16</td>\n<td>46</td>\n<td>8</td>\n<td>37</td>\n<td>5.0.0</td>\n</tr>\n</tbody>\n</table>\n<h2>Resources</h2>\n<ul>\n<li><a href=\"https://gist.github.com/telekosmos/3b62a31a5c43f40849bb\">@telekosmos ' Github Gist uniq.js</a></li>\n<li><a href=\"https://www.samanthaming.com/tidbits/43-3-ways-to-remove-array-duplicates/\">Samantha Ming Tidbits: How to Remove Array Duplicates in ES6</a></li>\n<li><a href=\"https://medium.com/dailyjs/how-to-remove-array-duplicates-in-es6-5daa8789641c\">DailyJS - by Samantha Ming: How to Remove Array Duplicates in ES6</a></li>\n<li><a href=\"https://www.instagram.com/p/BsjA-eiBAeT/\">Samantha Ming Instagram</a></li>\n<li><a href=\"https://blog.usejournal.com/performance-of-javascript-array-ops-2690aed47a50\">Performance of Javascript Array Ops by Miguel Albrecht</a> </li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\">MSDN Web Docs: reduce</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\">MSDN Web Docs: filter</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\">MSDN Web Docs: includes</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf\">MSDN Web Docs: indexOf</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\">MSDN Web Docs: set</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\">MSDN Web Docs: spread operator syntax</a></li>\n</ul>","frontmatter":{"date":"May 04, 2019","slug":"/pill/dedupe","title":"Dedupe"}}},"pageContext":{"slug":"/pill/dedupe"}},"staticQueryHashes":[]}